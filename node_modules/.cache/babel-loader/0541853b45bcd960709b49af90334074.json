{"ast":null,"code":"var _jsxFileName = \"/Users/oguzhanyuksel/Desktop/Yazilim/CICEKSEPETI/ciceksepeti-react-bootcamp-final-project1/src/components/ProductDetails/ProductDetails.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-alert */\n\n/* eslint-disable radix */\n\n/* eslint-disable react/no-unescaped-entities */\n\n/* eslint-disable react/button-has-type */\n\n/* eslint-disable dot-notation */\n\n/* eslint-disable no-multi-assign */\n\n/* eslint-disable no-undef */\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"./productDetails.scss\";\nimport { useParams } from \"react-router-dom\";\nimport Navbar from \"components/Navbar/Navbar\";\nimport Modal from \"components/Modal/Modal\";\nimport ModalSecond from \"components/ModalSecond/ModalSecond\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { offerInitiate } from \"../../redux/actions/giveProductOffer\";\nimport axios from \"../../../node_modules/axios/index\"; // Radio Values as Array Object\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst radioValues = [{\n  id: \"twentypercent\",\n  value: 0.2,\n  title: \"%20'si Kadar Teklif Ver\"\n}, {\n  id: \"thirtypercent\",\n  value: 0.3,\n  title: \"%30'u Kadar Teklif Ver\"\n}, {\n  id: \"fortypercent\",\n  value: 0.4,\n  title: \"%40'ı Kadar Teklif Ver\"\n}];\n\nfunction ProductDetails() {\n  _s();\n\n  var _getProduct$brand, _getProduct$color, _getProduct$status, _getProduct$color2;\n\n  const getOfferedReduxFinalPrice = useSelector(state => state); // Final data api'ye gitti mi onu kontrol edeceğim.\n\n  const userTokenId = useSelector(state => state.auth.user); // const dispatch = useDispatch();\n\n  const modalRef = useRef();\n  const modalSecondRef = useRef();\n  let {\n    productDetailId\n  } = useParams();\n  const [getProduct, setGetProduct] = useState({});\n  const [offeredValue, setOfferedValue] = useState(0);\n  const [finalOfferedPrice, setFinalOfferedPrice] = useState(localStorage.getItem(productDetailId, offeredValue));\n  const [offerPriceButtonCheck, setOfferPriceButtonCheck] = useState(localStorage.getItem(productDetailId, offeredValue));\n  const [soldItemID, setSoldItemID] = useState(false); // Opening modal from different component to handle resuable modal\n\n  const openModal = () => {\n    modalRef.current.modalOpener(); // console.log(modalRef);\n  };\n\n  const closeModal = () => {\n    modalRef.current.modalCloser(); // console.log(modalRef);\n  }; // Toastify Handler\n\n\n  const notifySuccess = () => toast.success(\"Teklif başarıyla verildi.\", {\n    autoClose: 3000\n  });\n\n  const notifyPurchaseSuccess = () => toast.success(\"Satın alma işlemi başarıyla gerçekleştirildi.\", {\n    autoClose: 3000\n  });\n\n  const notifyRetrieveSuccess = () => toast.success(\"Teklif başarıyla geri çekildi.\", {\n    autoClose: 3000\n  });\n\n  const notifyError = () => toast.error(\"Lütfen bir teklif seçiniz.\", {\n    autoClose: 2000\n  });\n\n  const openModalSecond = () => {\n    modalSecondRef.current.modalSecondOpener();\n  };\n\n  const closeModalSecond = () => {\n    modalSecondRef.current.modalSecondCloser();\n  }; // Radio button value handler\n\n\n  const radioValueHandler = e => {\n    setOfferedValue(parseInt(e.target.value));\n  }; // Capitalize first letters of the sentence\n\n\n  const elementCapitalizer = el1 => {\n    let capital = el1 === null || el1 === void 0 ? void 0 : el1.toString().charAt(0).toUpperCase();\n    let rest = el1 === null || el1 === void 0 ? void 0 : el1.toString().slice(1);\n    let compose = capital === null || capital === void 0 ? void 0 : capital.concat(rest);\n    return compose;\n  };\n\n  const retreiveHandler = () => {\n    localStorage.removeItem(productDetailId, offeredValue);\n    setOfferPriceButtonCheck(false);\n    notifyRetrieveSuccess();\n    setFinalOfferedPrice(null);\n  };\n\n  console.log({\n    finalOfferedPrice\n  }); // Buradaki AUTH yüzünden alnımın derisi çatladı, o yüzden çalışıyorsa elleme diyerek kendimi teselli ediyorum :((\n\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${userTokenId}`\n    }\n  };\n\n  const postOfferedValue = async () => {\n    await axios.post(`http://bootcampapi.techcs.io/api/fe/v1/product/offer/${productDetailId}`, {\n      offeredPrice: finalOfferedPrice\n    }, config).then(response => console.log(response)).catch(err => console.log(err));\n  }; // Offer Submit handler with logic \" as much as possible :( \"\n\n\n  const handleOfferSubmit = e => {\n    e.preventDefault();\n\n    if (offeredValue > 0) {\n      // dispatch(offerInitiate(productDetailId, finalOfferedPrice));\n      postOfferedValue();\n      setFinalOfferedPrice(offeredValue);\n      localStorage.setItem(productDetailId, offeredValue);\n      notifySuccess();\n      setOfferPriceButtonCheck(true);\n      setTimeout(() => {\n        closeModal();\n        setOfferedValue(0);\n      }, 200);\n    } else {\n      notifyError();\n    }\n  }; // console.log({ getProduct });\n  // console.log({ getOfferedReduxFinalPrice });\n\n\n  const purchaseHandler = e => {\n    e.preventDefault();\n    setSoldItemID(true);\n    notifyPurchaseSuccess();\n  }; // Fetching asyncroniously id entered data in order to show it Product Details Page\n\n\n  const getProductData = async () => {\n    await axios.get(`http://bootcampapi.techcs.io/api/fe/v1/product/${productDetailId}`).then(data => setGetProduct(data.data)).catch(error => console.log(error));\n  }; // Mounting getProductData() function when get data productDetailId drilled from parent component\n\n\n  useEffect(() => {\n    getProductData();\n  }, [productDetailId]); // POST REQUEST TEST\n  // console.log(user);\n  // POST REQUEST TEST\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-container\",\n      children: /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-info-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-info-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left-product-cover\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: getProduct.imageUrl,\n            alt: getProduct.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"right-product-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: elementCapitalizer(getProduct === null || getProduct === void 0 ? void 0 : getProduct.title)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"brand-color-status\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Marka:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: elementCapitalizer(getProduct === null || getProduct === void 0 ? void 0 : (_getProduct$brand = getProduct.brand) === null || _getProduct$brand === void 0 ? void 0 : _getProduct$brand.title)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"brand-color-status\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Renk:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: elementCapitalizer(getProduct === null || getProduct === void 0 ? void 0 : (_getProduct$color = getProduct.color) === null || _getProduct$color === void 0 ? void 0 : _getProduct$color.title)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"brand-color-status\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Kullan\\u0131m Durumu:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: elementCapitalizer(getProduct === null || getProduct === void 0 ? void 0 : (_getProduct$status = getProduct.status) === null || _getProduct$status === void 0 ? void 0 : _getProduct$status.title)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [getProduct.price, \" TL\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), finalOfferedPrice && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"final-offered-price\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"final-offered-price-subtitle\",\n                children: \" Verilen Teklif: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n                children: [finalOfferedPrice, \" TL\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [!getProduct.isSold && !soldItemID ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"buy-button\",\n                onClick: () => {\n                  openModalSecond();\n                },\n                children: \"Sat\\u0131n Al\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ModalSecond, {\n                ref: modalSecondRef,\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  className: \"purchase-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"purchase-title\",\n                    children: \"SATIN AL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"Sat\\u0131n almak istiyor musunuz ?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"reject\",\n                      onClick: closeModalSecond,\n                      children: \"Vazge\\xE7\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"accept\",\n                      type: \"submit\",\n                      onClick: purchaseHandler,\n                      children: \"Sat\\u0131n Al\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"item-not-sold\",\n              children: \"Bu \\xDCr\\xFCn Sat\\u0131\\u015Fta De\\u011Fil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this),\n            /* !getProduct?.isSold && getProduct?.isOfferable && !soldItemID */\n            user && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [!offerPriceButtonCheck && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"offer-button\",\n                onClick: () => {\n                  openModal();\n                },\n                children: \"Teklif Ver\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 23\n              }, this), offerPriceButtonCheck && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"offer-button\",\n                onClick: retreiveHandler,\n                children: \"Teklifi Geri \\xC7ek\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Modal, {\n                ref: modalRef,\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"offer-wrapper\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"offer-info-container\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: getProduct === null || getProduct === void 0 ? void 0 : getProduct.imageUrl,\n                          alt: getProduct.title,\n                          className: \"offer-info-image\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 266,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 265,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"offer-info-detail\",\n                        children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                          children: elementCapitalizer(getProduct === null || getProduct === void 0 ? void 0 : getProduct.title)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 273,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                          children: elementCapitalizer(getProduct === null || getProduct === void 0 ? void 0 : (_getProduct$color2 = getProduct.color) === null || _getProduct$color2 === void 0 ? void 0 : _getProduct$color2.title)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 274,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 272,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"offer-info-price\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [getProduct === null || getProduct === void 0 ? void 0 : getProduct.price, \" TL\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 277,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 276,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: radioValues.map(radioValue => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"offer-radio\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"offer-radioButton\",\n                        type: \"radio\",\n                        name: \"offer\",\n                        id: radioValue.id,\n                        value: radioValue.value * (getProduct === null || getProduct === void 0 ? void 0 : getProduct.price),\n                        onClick: radioValueHandler\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 286,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: radioValue.id,\n                        children: radioValue.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 294,\n                        columnNumber: 31\n                      }, this)]\n                    }, radioValue.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"verify-button-container\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      onClick: handleOfferSubmit,\n                      children: \"Onayla\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"A\\xE7\\u0131klama\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: getProduct === null || getProduct === void 0 ? void 0 : getProduct.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductDetails, \"GNmGNhzyQbAgb4OojjMX1CtmLOI=\", false, function () {\n  return [useSelector, useSelector, useParams];\n});\n\n_c = ProductDetails;\nexport default ProductDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"sources":["/Users/oguzhanyuksel/Desktop/Yazilim/CICEKSEPETI/ciceksepeti-react-bootcamp-final-project1/src/components/ProductDetails/ProductDetails.js"],"names":["React","useState","useEffect","useRef","useParams","Navbar","Modal","ModalSecond","ToastContainer","toast","useSelector","useDispatch","offerInitiate","axios","radioValues","id","value","title","ProductDetails","getOfferedReduxFinalPrice","state","userTokenId","auth","user","modalRef","modalSecondRef","productDetailId","getProduct","setGetProduct","offeredValue","setOfferedValue","finalOfferedPrice","setFinalOfferedPrice","localStorage","getItem","offerPriceButtonCheck","setOfferPriceButtonCheck","soldItemID","setSoldItemID","openModal","current","modalOpener","closeModal","modalCloser","notifySuccess","success","autoClose","notifyPurchaseSuccess","notifyRetrieveSuccess","notifyError","error","openModalSecond","modalSecondOpener","closeModalSecond","modalSecondCloser","radioValueHandler","e","parseInt","target","elementCapitalizer","el1","capital","toString","charAt","toUpperCase","rest","slice","compose","concat","retreiveHandler","removeItem","console","log","config","headers","Authorization","postOfferedValue","post","offeredPrice","then","response","catch","err","handleOfferSubmit","preventDefault","setItem","setTimeout","purchaseHandler","getProductData","get","data","imageUrl","brand","color","status","price","isSold","map","radioValue","description"],"mappings":"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","sourcesContent":["/* eslint-disable no-alert */\n/* eslint-disable radix */\n/* eslint-disable react/no-unescaped-entities */\n/* eslint-disable react/button-has-type */\n/* eslint-disable dot-notation */\n/* eslint-disable no-multi-assign */\n/* eslint-disable no-undef */\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"./productDetails.scss\";\nimport { useParams } from \"react-router-dom\";\nimport Navbar from \"components/Navbar/Navbar\";\nimport Modal from \"components/Modal/Modal\";\nimport ModalSecond from \"components/ModalSecond/ModalSecond\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { offerInitiate } from \"../../redux/actions/giveProductOffer\";\nimport axios from \"../../../node_modules/axios/index\";\n\n// Radio Values as Array Object\nconst radioValues = [\n  {\n    id: \"twentypercent\",\n    value: 0.2,\n    title: \"%20'si Kadar Teklif Ver\",\n  },\n  {\n    id: \"thirtypercent\",\n    value: 0.3,\n    title: \"%30'u Kadar Teklif Ver\",\n  },\n  {\n    id: \"fortypercent\",\n    value: 0.4,\n    title: \"%40'ı Kadar Teklif Ver\",\n  },\n];\n\nfunction ProductDetails() {\n  const getOfferedReduxFinalPrice = useSelector((state) => state); // Final data api'ye gitti mi onu kontrol edeceğim.\n  const userTokenId = useSelector((state) => state.auth.user);\n  // const dispatch = useDispatch();\n  const modalRef = useRef();\n  const modalSecondRef = useRef();\n  let { productDetailId } = useParams();\n  const [getProduct, setGetProduct] = useState({});\n  const [offeredValue, setOfferedValue] = useState(0);\n  const [finalOfferedPrice, setFinalOfferedPrice] = useState(\n    localStorage.getItem(productDetailId, offeredValue)\n  );\n  const [offerPriceButtonCheck, setOfferPriceButtonCheck] = useState(\n    localStorage.getItem(productDetailId, offeredValue)\n  );\n  const [soldItemID, setSoldItemID] = useState(false);\n\n  // Opening modal from different component to handle resuable modal\n  const openModal = () => {\n    modalRef.current.modalOpener();\n\n    // console.log(modalRef);\n  };\n  const closeModal = () => {\n    modalRef.current.modalCloser();\n    // console.log(modalRef);\n  };\n\n  // Toastify Handler\n  const notifySuccess = () => toast.success(\"Teklif başarıyla verildi.\", { autoClose: 3000 });\n  const notifyPurchaseSuccess = () =>\n    toast.success(\"Satın alma işlemi başarıyla gerçekleştirildi.\", { autoClose: 3000 });\n  const notifyRetrieveSuccess = () =>\n    toast.success(\"Teklif başarıyla geri çekildi.\", { autoClose: 3000 });\n  const notifyError = () => toast.error(\"Lütfen bir teklif seçiniz.\", { autoClose: 2000 });\n\n  const openModalSecond = () => {\n    modalSecondRef.current.modalSecondOpener();\n  };\n  const closeModalSecond = () => {\n    modalSecondRef.current.modalSecondCloser();\n  };\n\n  // Radio button value handler\n  const radioValueHandler = (e) => {\n    setOfferedValue(parseInt(e.target.value));\n  };\n\n  // Capitalize first letters of the sentence\n  const elementCapitalizer = (el1) => {\n    let capital = el1?.toString().charAt(0).toUpperCase();\n    let rest = el1?.toString().slice(1);\n    let compose = capital?.concat(rest);\n    return compose;\n  };\n\n  const retreiveHandler = () => {\n    localStorage.removeItem(productDetailId, offeredValue);\n    setOfferPriceButtonCheck(false);\n    notifyRetrieveSuccess();\n    setFinalOfferedPrice(null);\n  };\n\n  console.log({ finalOfferedPrice });\n  // Buradaki AUTH yüzünden alnımın derisi çatladı, o yüzden çalışıyorsa elleme diyerek kendimi teselli ediyorum :((\n  const config = {\n    headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${userTokenId}` },\n  };\n\n  const postOfferedValue = async () => {\n    await axios\n      .post(\n        `http://bootcampapi.techcs.io/api/fe/v1/product/offer/${productDetailId}`,\n        {\n          offeredPrice: finalOfferedPrice,\n        },\n        config\n      )\n      .then((response) => console.log(response))\n      .catch((err) => console.log(err));\n  };\n\n  // Offer Submit handler with logic \" as much as possible :( \"\n  const handleOfferSubmit = (e) => {\n    e.preventDefault();\n    if (offeredValue > 0) {\n      // dispatch(offerInitiate(productDetailId, finalOfferedPrice));\n      postOfferedValue();\n      setFinalOfferedPrice(offeredValue);\n      localStorage.setItem(productDetailId, offeredValue);\n      notifySuccess();\n      setOfferPriceButtonCheck(true);\n      setTimeout(() => {\n        closeModal();\n        setOfferedValue(0);\n      }, 200);\n    } else {\n      notifyError();\n    }\n  };\n  // console.log({ getProduct });\n  // console.log({ getOfferedReduxFinalPrice });\n\n  const purchaseHandler = (e) => {\n    e.preventDefault();\n    setSoldItemID(true);\n    notifyPurchaseSuccess();\n  };\n  // Fetching asyncroniously id entered data in order to show it Product Details Page\n  const getProductData = async () => {\n    await axios\n      .get(`http://bootcampapi.techcs.io/api/fe/v1/product/${productDetailId}`)\n      .then((data) => setGetProduct(data.data))\n      .catch((error) => console.log(error));\n  };\n\n  // Mounting getProductData() function when get data productDetailId drilled from parent component\n  useEffect(() => {\n    getProductData();\n  }, [productDetailId]);\n  // POST REQUEST TEST\n  // console.log(user);\n\n  // POST REQUEST TEST\n  return (\n    <div className=\"home-wrapper\">\n      <ToastContainer />\n      <div className=\"home-container\">\n        <Navbar />\n      </div>\n      <div className=\"product-info-wrapper\">\n        <div className=\"product-info-container\">\n          {/* Cover Picture */}\n          <div className=\"left-product-cover\">\n            <img src={getProduct.imageUrl} alt={getProduct.title} />\n          </div>\n\n          {/* Right Product Info */}\n          <div className=\"right-product-info\">\n            <h2>{elementCapitalizer(getProduct?.title)}</h2>\n            <div className=\"brand-color-status\">\n              <label>\n                <b>Marka:</b>\n              </label>\n              <span>{elementCapitalizer(getProduct?.brand?.title)}</span>\n            </div>\n            <div className=\"brand-color-status\">\n              <label>\n                <b>Renk:</b>\n              </label>\n              <span>{elementCapitalizer(getProduct?.color?.title)}</span>\n            </div>\n            <div className=\"brand-color-status\">\n              <label>\n                <b>Kullanım Durumu:</b>\n              </label>\n              <span>{elementCapitalizer(getProduct?.status?.title)}</span>\n            </div>\n            <h2>{getProduct.price} TL</h2>\n            {finalOfferedPrice && (\n              <div className=\"final-offered-price\">\n                <span>\n                  <span className=\"final-offered-price-subtitle\"> Verilen Teklif: </span>\n                  <b>{finalOfferedPrice} TL</b>\n                </span>\n              </div>\n            )}\n            <div>\n              {!getProduct.isSold && !soldItemID ? (\n                <>\n                  <button\n                    type=\"submit\"\n                    className=\"buy-button\"\n                    onClick={() => {\n                      openModalSecond();\n                    }}\n                  >\n                    Satın Al\n                  </button>\n\n                  {/* Purchase Modal */}\n                  <ModalSecond ref={modalSecondRef}>\n                    <form className=\"purchase-container\">\n                      <h3 className=\"purchase-title\">SATIN AL</h3>\n                      <p>Satın almak istiyor musunuz ?</p>\n                      <div>\n                        <button className=\"reject\" onClick={closeModalSecond}>\n                          Vazgeç\n                        </button>\n                        <button className=\"accept\" type=\"submit\" onClick={purchaseHandler}>\n                          Satın Al\n                        </button>\n                      </div>\n                    </form>\n                  </ModalSecond>\n                </>\n              ) : (\n                <button type=\"submit\" className=\"item-not-sold\">\n                  Bu Ürün Satışta Değil\n                </button>\n              )}\n              {\n                /* !getProduct?.isSold && getProduct?.isOfferable && !soldItemID */ user && (\n                  <>\n                    {!offerPriceButtonCheck && (\n                      <button\n                        type=\"submit\"\n                        className=\"offer-button\"\n                        onClick={() => {\n                          openModal();\n                        }}\n                      >\n                        Teklif Ver\n                      </button>\n                    )}\n                    {offerPriceButtonCheck && (\n                      <button type=\"submit\" className=\"offer-button\" onClick={retreiveHandler}>\n                        Teklifi Geri Çek\n                      </button>\n                    )}\n                    {/* Offer Modal */}\n                    <Modal ref={modalRef}>\n                      <form>\n                        {/* Product Pop-Up Information Area */}\n                        <div className=\"offer-wrapper\">\n                          <div className=\"offer-info-container\">\n                            <div>\n                              <img\n                                src={getProduct?.imageUrl}\n                                alt={getProduct.title}\n                                className=\"offer-info-image\"\n                              />\n                            </div>\n                            <div className=\"offer-info-detail\">\n                              <small>{elementCapitalizer(getProduct?.title)}</small>\n                              <small>{elementCapitalizer(getProduct?.color?.title)}</small>\n                            </div>\n                            <div className=\"offer-info-price\">\n                              <span>{getProduct?.price} TL</span>\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* Offer Area */}\n                        <div>\n                          {radioValues.map((radioValue) => (\n                            <div className=\"offer-radio\" key={radioValue.id}>\n                              <input\n                                className=\"offer-radioButton\"\n                                type=\"radio\"\n                                name=\"offer\"\n                                id={radioValue.id}\n                                value={radioValue.value * getProduct?.price}\n                                onClick={radioValueHandler}\n                              />\n                              <label htmlFor={radioValue.id}>{radioValue.title}</label>\n                            </div>\n                          ))}\n                          {/* <div className=\"offer-input\">\n                          <input\n                            type=\"number\"\n                            name=\"offer\"\n                            id=\"offeredValue\"\n                            placeholder=\"Teklif Belirle\"\n                            onChange={openOfferHandler}\n                          />\n                        </div> */}\n                        </div>\n\n                        {/* TEST DIV */}\n\n                        {/* Offer Verifying Area */}\n                        <div className=\"verify-button-container\">\n                          <button type=\"submit\" onClick={handleOfferSubmit}>\n                            Onayla\n                          </button>\n                        </div>\n                      </form>\n                    </Modal>\n                  </>\n                )\n              }\n            </div>\n            <h3>Açıklama</h3>\n            <p>{getProduct?.description}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}